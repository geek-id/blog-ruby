!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n)}:e(window.jQuery)}(function(e){e.extend(e.FE.DEFAULTS,{}),e.FE.URLRegEx="(^| |\\u00A0)((https?:\\/\\/(www\\.)?)?(([-a-zA-Z0-9@:%_\\+~#=]{2,256}\\.[a-z]{2,6}\\b(\\.?[-a-zA-Z0-9@:%_\\+~#?&/=\\.]*))|([\\d]{1,3}\\.[\\d]{1,3}\\.[\\d]{1,3}\\.[\\d]{1,3}([-a-zA-Z0-9@:%_\\+~#?&/=]*))))$",e.FE.PLUGINS.url=function(t){function n(e,n,o){var r=o;return t.opts.linkConvertEmailAddress&&/^[\w._]+@[a-z\u00a1-\uffff0-9_-]+?\.[a-z\u00a1-\uffff0-9]{2,}$/i.test(r)&&!/^mailto:.*/i.test(r)&&(r="mailto:"+r),/^((http|https|ftp|ftps|mailto|tel|sms|notes|data)\:)/i.test(r)||(r="//"+r),(n||"")+"<a"+(t.opts.linkAlwaysBlank?' target="_blank"':"")+(f?' rel="'+f+'"':"")+' href="'+r+'">'+o+"</a>"}function o(){return new RegExp(e.FE.URLRegEx,"gi")}function r(e){return t.opts.linkAlwaysNoFollow&&(f="nofollow"),t.opts.linkAlwaysBlank&&(f?f+=" noopener noreferrer":f="noopener noreferrer"),e.replace(o(),n)}function i(e){return!!e&&("A"===e.tagName||!(!e.parentNode||e.parentNode==t.el)&&i(e.parentNode))}function a(){var n=t.selection.ranges(0),a=n.startContainer;if(!a||a.nodeType!==Node.TEXT_NODE)return!1;if(i(a))return!1;if(o().test(a.textContent))e(a).before(r(a.textContent)),a.parentNode.removeChild(a);else if(a.previousSibling&&"A"===a.previousSibling.tagName){var u=a.previousSibling.innerText+a.textContent;o().test(u)&&(e(a.previousSibling).replaceWith(r(u)),a.parentNode.removeChild(a))}}function u(){t.events.on("paste.afterCleanup",function(t){if(new RegExp(e.FE.URLRegEx,"gi").test(t))return r(t)}),t.events.on("keydown",function(n){var o=n.which;!t.selection.isCollapsed()||o!=e.FE.KEYCODE.ENTER&&o!=e.FE.KEYCODE.SPACE&&o!=e.FE.KEYCODE.PERIOD||a()},!0)}var f=null;return{_init:u}}});